{"version":3,"sources":["base/animation/rocketbelt.animate.min.js"],"names":["window","document","$","rb","prefix","in","out","state","animTypes","emphasis","inOrOut","getAnimationNames","slide","fadeSlide","fade","animate","scale","expandCollapse","color","pulse","easing","motion","easingPrefix","duration","xs","durationPrefix","sm","xl","el","callback","once","arguments","length","undefined","addEventListener","animationHandler","e","onAnimationEnd","type","onTransitionEnd","transitionHandler","target","removeEventListener","animationName","configOrCallback","_el$classList","classesToRemove","resetAfterAnimating","isAnimation","includes","_typeof","push","md","classList","apply","cb","_el$classList2","remove","expandOrCollapse","functions","this","each","animate.onTransitionEnd","animate.onAnimationEnd","fn","functionAndOptions","Array","prototype","slice","call","error","getAttribute","onExpandEnd","style","setAttribute","collapsedDataAttr","isCollapsed","transition","requestAnimationFrame","height","elHeight","elementTransition","jQuery"],"mappings":"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","file":"rocketbelt.animate.min.js","sourcesContent":["'use strict';\n((window, document, $) => {\n  const rb = window.rb;\n\n  const prefix = 'animation_';\n  const animTypes = {\n    in: 'in_',\n    out: 'out_',\n    state: 'state_',\n    emphasis: 'emphasis_'\n  };\n\n  const getAnimationNames = (inOrOut) => {\n    return {\n      // Entrances & Exits\n      fade:      `${prefix}${inOrOut}fade`,\n      slide:     `${prefix}${inOrOut}slide`,\n      fadeSlide: `${prefix}${inOrOut}fade-slide`,\n      grow:      `${prefix}${inOrOut}grow`,\n      shrink:    `${prefix}${inOrOut}shrink`\n    };\n  };\n\n  rb.animate = rb.animate || {};\n  rb.animate.in  = rb.animate.in  || getAnimationNames(animTypes.in);\n  rb.animate.out = rb.animate.out || getAnimationNames(animTypes.out);\n\n  rb.animate.state = rb.animate.state || {\n    expandCollapse: `${prefix}${animTypes.state}expand-collapse`,\n    scale:   `${prefix}${animTypes.state}scale`,\n    opacity: `${prefix}${animTypes.state}opacity`,\n    color:   `${prefix}${animTypes.state}color`\n  };\n\n  rb.animate.emphasis = rb.animate.emphasis || {\n    pulse: `${prefix}${animTypes.emphasis}pulse`\n  };\n\n  const easingPrefix = `${prefix}easing_`;\n  rb.animate.easing = rb.animate.easing || {\n    motion: `${easingPrefix}motion`\n  };\n\n  const durationPrefix = `${prefix}duration_`;\n  rb.animate.duration = rb.animate.duration || {\n    xs: `${durationPrefix}xs`,\n    sm: `${durationPrefix}sm`,\n    md: `${durationPrefix}md`,\n    lg: `${durationPrefix}lg`,\n    xl: `${durationPrefix}xl`\n  };\n\n  rb.animate.onAnimationEnd = (el, callback, once = false) => {\n    el.addEventListener('animationend', function animationHandler(e) {\n      if (once) {\n        e.target.removeEventListener(e.type, animationHandler);\n      }\n\n      if (callback) {\n        return callback(e);\n      }\n\n      return el;\n    });\n  };\n\n  rb.animate.onTransitionEnd = (el, callback, once = false) => {\n    el.addEventListener('transitionend', function transitionHandler(e) {\n      if (once) {\n        e.target.removeEventListener(e.type, transitionHandler);\n      }\n\n      if (callback) {\n        return callback(e);\n      }\n\n      return el;\n    });\n  };\n\n  rb.animate.animate = (el, animationName, configOrCallback) => {\n    const classesToRemove = ['animatable', animationName];\n    let callback = null;\n    let resetAfterAnimating = false;\n    let isAnimation = !(animationName.includes('expand') || animationName.includes('collapse'));\n\n    if (typeof configOrCallback === 'function') {\n      callback = configOrCallback;\n    } else if (typeof configOrCallback === 'object') {\n      if (configOrCallback.easing) {\n        classesToRemove.push(configOrCallback.easing);\n      }\n\n      if (configOrCallback.duration) {\n        classesToRemove.push(configOrCallback.duration);\n      } else {\n        // Provide a default duration\n        classesToRemove.push(rb.animate.duration.md);\n      }\n\n      if (configOrCallback.callback) {\n        callback = configOrCallback.callback;\n      }\n\n      if (configOrCallback.resetAfterAnimating) {\n        resetAfterAnimating = true;\n      }\n    }\n\n    el.classList.add(...classesToRemove);\n\n    const cb = () => {\n      if (resetAfterAnimating) {\n        el.classList.remove(...classesToRemove);\n      }\n\n      if (callback) {\n        callback();\n      }\n    };\n\n    if (isAnimation) {\n      rb.animate.onAnimationEnd(el, cb, true);\n    } else {\n      rb.animate.onTransitionEnd(el, cb, true);\n    }\n\n    if (animationName.includes('expand') || animationName.includes('collapse')) {\n      isAnimation = false;\n      expandOrCollapse(el);\n    }\n  };\n\n  if ($) {\n    const functions = {\n      /**\n       * Add a Rocketbelt animation to a jQuery object.\n       *\n       * @param  {string} animationName The Rocketbelt animation name.\n       * @param  {(object|function)} configOrCallback A configuration object or a callback to run after the animation finishes.\n       * @returns {object} A chainable jQuery object.\n       */\n      'animate': function animate(animationName, configOrCallback) {\n        return this.each(function eachAnimate() {\n          return window.rb.animate.animate(this, animationName, configOrCallback);\n        });\n      },\n\n      /**\n       * Execute a function after a transition finishes.\n       *\n       * @param {function} callback The function to execute after the transition.\n       * @param {boolean} [once=false] Whether to execute the callback after subsequent transitions. If true, removes the event listener after the first execution of the callback.\n       * @returns {object} A chainable jQuery object.\n       */\n      'animate.onTransitionEnd': function onTransitionEnd(callback, once = false) {\n        return this.each(function eachTransitionEnd() {\n          return window.rb.animate.onTransitionEnd(this, callback, once);\n        });\n      },\n\n      /**\n       * Execute a function after a transition finishes.\n       *\n       * @param {function} callback The function to execute after the transition.\n       * @param {boolean} [once=false] Whether to execute the callback after subsequent animations. If true, removes the event listener after the first execution of the callback.\n       * @returns {object} A chainable jQuery object.\n       */\n      'animate.onAnimationEnd': function onAnimationEnd(callback, once = false) {\n        return this.each(function eachAnimationEnd() {\n          return window.rb.animate.onAnimationEnd(this, callback, once);\n        });\n      }\n    };\n\n    /**\n     * Rocketbelt helper functions.\n     *\n     * @param {any} functionAndOptions A Rocketbelt helper function name as a string.\n     * @return {any} The value returned by the passed function name.\n     */\n    $.fn.rb = function $rb(functionAndOptions) {\n      if (functions[functionAndOptions]) {\n        return functions[functionAndOptions].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else if (typeof functionAndOptions === 'object' || !functionAndOptions) {\n        // console.warn about calling $.rb with no parameters.\n      }\n\n      return $.error(`Function ${functionAndOptions} does not exist on jQuery.rb`);\n    };\n  }\n\n  const expandOrCollapse = (el) => {\n    // See https://css-tricks.com/using-css-transitions-auto-dimensions/\n    const collapsedDataAttr = 'data-rb-is-collapsed';\n    const isCollapsed = el.getAttribute(collapsedDataAttr) === 'true';\n\n    if (isCollapsed) {\n      el.addEventListener('transitionend', function onExpandEnd() {\n        el.removeEventListener('transitionend', onExpandEnd);\n      });\n\n      // Expand\n      el.style.height = null;\n\n      // Mark the element as expanded\n      el.setAttribute(collapsedDataAttr, 'false');\n    } else {\n      // Collapse\n      const elHeight = el.scrollHeight;\n\n      // Temporarily disable all css transitions\n      const elementTransition = el.style.transition;\n      el.style.transition = '';\n\n      // On the next frame, explicitly set the element's height to its\n      // current pixel height, so we aren't transitioning out of 'auto'\n      requestAnimationFrame(() => {\n        el.style.height = `${elHeight}px`;\n        el.style.transition = elementTransition;\n\n        // On the next frame, have the element transition to height: 0\n        requestAnimationFrame(() => {\n          el.style.height = '0px';\n        });\n      });\n\n      // Mark the element as expanded\n      el.setAttribute(collapsedDataAttr, 'true');\n    }\n  };\n})(window, document, jQuery);\n"],"sourceRoot":"../.."}