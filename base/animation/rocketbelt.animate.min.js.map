{"version":3,"sources":["base/animation/rocketbelt.animate.min.js"],"names":["window","document","$","rb","prefix","animTypes","emphasis","inOrOut","getAnimationNames","slide","fadeSlide","fade","animate","in","out","state","scale","expandCollapse","color","pulse","easing","motion","easingPrefix","duration","xs","durationPrefix","sm","xl","el","callback","once","arguments","length","undefined","addEventListener","animationHandler","e","onAnimationEnd","type","onTransitionEnd","transitionHandler","target","removeEventListener","animationName","configOrCallback","_el$classList","classesToRemove","resetAfterAnimating","isAnimation","includes","push","classList","add","apply","cb","_el$classList2","remove","expandOrCollapse","functions","this","each","animate.onTransitionEnd","animate.onAnimationEnd","fn","functionAndOptions","Array","prototype","slice","call","_typeof","error","collapsedDataAttr","getAttribute","onExpandEnd","style","setAttribute","isCollapsed","transition","requestAnimationFrame","height","elHeight","elementTransition","jQuery"],"mappings":"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","file":"rocketbelt.animate.min.js","sourcesContent":["'use strict';\n((window, document, $) => {\n  const rb = window.rb;\n\n  const prefix = 'animation_';\n  const animTypes = {\n    in: 'in_',\n    out: 'out_',\n    state: 'state_',\n    emphasis: 'emphasis_'\n  };\n\n  const getAnimationNames = (inOrOut) => {\n    return {\n      // Entrances & Exits\n      fade:      `${prefix}${inOrOut}fade`,\n      slide:     `${prefix}${inOrOut}slide`,\n      fadeSlide: `${prefix}${inOrOut}fade-slide`,\n      grow:      `${prefix}${inOrOut}grow`,\n      shrink:    `${prefix}${inOrOut}shrink`\n    };\n  };\n\n  rb.animate = rb.animate || {};\n  rb.animate.in  = rb.animate.in  || getAnimationNames(animTypes.in);\n  rb.animate.out = rb.animate.out || getAnimationNames(animTypes.out);\n\n  rb.animate.state = rb.animate.state || {\n    expandCollapse: `${prefix}${animTypes.state}expand-collapse`,\n    scale:   `${prefix}${animTypes.state}scale`,\n    opacity: `${prefix}${animTypes.state}opacity`,\n    color:   `${prefix}${animTypes.state}color`\n  };\n\n  rb.animate.emphasis = rb.animate.emphasis || {\n    pulse: `${prefix}${animTypes.emphasis}pulse`\n  };\n\n  const easingPrefix = `${prefix}easing_`;\n  rb.animate.easing = rb.animate.easing || {\n    motion: `${easingPrefix}motion`\n  };\n\n  const durationPrefix = `${prefix}duration_`;\n  rb.animate.duration = rb.animate.duration || {\n    xs: `${durationPrefix}xs`,\n    sm: `${durationPrefix}sm`,\n    md: `${durationPrefix}md`,\n    lg: `${durationPrefix}lg`,\n    xl: `${durationPrefix}xl`\n  };\n\n  rb.animate.onAnimationEnd = (el, callback, once = false) => {\n    el.addEventListener('animationend', function animationHandler(e) {\n      if (once) {\n        e.target.removeEventListener(e.type, animationHandler);\n      }\n\n      if (callback) {\n        return callback(e);\n      }\n\n      return el;\n    });\n  };\n\n  rb.animate.onTransitionEnd = (el, callback, once = false) => {\n    el.addEventListener('transitionend', function transitionHandler(e) {\n      if (once) {\n        e.target.removeEventListener(e.type, transitionHandler);\n      }\n\n      if (callback) {\n        return callback(e);\n      }\n\n      return el;\n    });\n  };\n\n  rb.animate.animate = (el, animationName, configOrCallback) => {\n    const classesToRemove = ['animatable', animationName];\n    let callback = null;\n    let resetAfterAnimating = false;\n    let isAnimation = !(animationName.includes('expand') || animationName.includes('collapse'));\n\n    if (typeof configOrCallback === 'function') {\n      callback = configOrCallback;\n    } else if (typeof configOrCallback === 'object') {\n      if (configOrCallback.easing) {\n        classesToRemove.push(configOrCallback.easing);\n      }\n\n      if (configOrCallback.duration) {\n        classesToRemove.push(configOrCallback.duration);\n      } else {\n        // Provide a default duration\n        classesToRemove.push(rb.animate.duration.md);\n      }\n\n      if (configOrCallback.callback) {\n        callback = configOrCallback.callback;\n      }\n\n      if (configOrCallback.resetAfterAnimating) {\n        resetAfterAnimating = true;\n      }\n    }\n\n    if (el && el.classList) {\n      el.classList.add(...classesToRemove);\n    }\n\n    const cb = () => {\n      if (resetAfterAnimating && el && el.classList) {\n        el.classList.remove(...classesToRemove);\n      }\n\n      if (callback) {\n        callback();\n      }\n    };\n\n    if (isAnimation) {\n      rb.animate.onAnimationEnd(el, cb, true);\n    } else {\n      rb.animate.onTransitionEnd(el, cb, true);\n    }\n\n    if (animationName.includes('expand') || animationName.includes('collapse')) {\n      isAnimation = false;\n      expandOrCollapse(el);\n    }\n  };\n\n  if ($) {\n    const functions = {\n      /**\n       * Add a Rocketbelt animation to a jQuery object.\n       *\n       * @param  {string} animationName The Rocketbelt animation name.\n       * @param  {(object|function)} configOrCallback A configuration object or a callback to run after the animation finishes.\n       * @returns {object} A chainable jQuery object.\n       */\n      'animate': function animate(animationName, configOrCallback) {\n        return this.each(function eachAnimate() {\n          return window.rb.animate.animate(this, animationName, configOrCallback);\n        });\n      },\n\n      /**\n       * Execute a function after a transition finishes.\n       *\n       * @param {function} callback The function to execute after the transition.\n       * @param {boolean} [once=false] Whether to execute the callback after subsequent transitions. If true, removes the event listener after the first execution of the callback.\n       * @returns {object} A chainable jQuery object.\n       */\n      'animate.onTransitionEnd': function onTransitionEnd(callback, once = false) {\n        return this.each(function eachTransitionEnd() {\n          return window.rb.animate.onTransitionEnd(this, callback, once);\n        });\n      },\n\n      /**\n       * Execute a function after a transition finishes.\n       *\n       * @param {function} callback The function to execute after the transition.\n       * @param {boolean} [once=false] Whether to execute the callback after subsequent animations. If true, removes the event listener after the first execution of the callback.\n       * @returns {object} A chainable jQuery object.\n       */\n      'animate.onAnimationEnd': function onAnimationEnd(callback, once = false) {\n        return this.each(function eachAnimationEnd() {\n          return window.rb.animate.onAnimationEnd(this, callback, once);\n        });\n      }\n    };\n\n    /**\n     * Rocketbelt helper functions.\n     *\n     * @param {any} functionAndOptions A Rocketbelt helper function name as a string.\n     * @return {any} The value returned by the passed function name.\n     */\n    $.fn.rb = function $rb(functionAndOptions) {\n      if (functions[functionAndOptions]) {\n        return functions[functionAndOptions].apply(this, Array.prototype.slice.call(arguments, 1));\n      } else if (typeof functionAndOptions === 'object' || !functionAndOptions) {\n        // console.warn about calling $.rb with no parameters.\n      }\n\n      return $.error(`Function ${functionAndOptions} does not exist on jQuery.rb`);\n    };\n  }\n\n  const expandOrCollapse = (el) => {\n    // See https://css-tricks.com/using-css-transitions-auto-dimensions/\n    const collapsedDataAttr = 'data-rb-is-collapsed';\n    const isCollapsed = el.getAttribute(collapsedDataAttr) === 'true';\n\n    if (isCollapsed) {\n      el.addEventListener('transitionend', function onExpandEnd() {\n        el.removeEventListener('transitionend', onExpandEnd);\n      });\n\n      // Expand\n      el.style.height = null;\n\n      // Mark the element as expanded\n      el.setAttribute(collapsedDataAttr, 'false');\n    } else {\n      // Collapse\n      const elHeight = el.scrollHeight;\n\n      // Temporarily disable all css transitions\n      const elementTransition = el.style.transition;\n      el.style.transition = '';\n\n      // On the next frame, explicitly set the element's height to its\n      // current pixel height, so we aren't transitioning out of 'auto'\n      requestAnimationFrame(() => {\n        el.style.height = `${elHeight}px`;\n        el.style.transition = elementTransition;\n\n        // On the next frame, have the element transition to height: 0\n        requestAnimationFrame(() => {\n          el.style.height = '0px';\n        });\n      });\n\n      // Mark the element as expanded\n      el.setAttribute(collapsedDataAttr, 'true');\n    }\n  };\n})(window, document, jQuery);\n"],"sourceRoot":"../.."}