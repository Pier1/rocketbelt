"use strict";!function(l,S,r){l.typography=l.typography||{};var o=function(e,t,a){var n=2<arguments.length&&void 0!==a?a:{};if(!t)throw Error("maxHeight is required");var l="string"==typeof e?S.querySelectorAll(e):e;if(l){var r=n.character||"…",o=n.classname||"clampable_clamped-text",c="clampable_clamped-placeholder",i=n.clampedMarkup,p="boolean"!=typeof n.spaces||n.spaces,s=i?'<span class="'+c+'">… '+i+"</span>":'<span class="'+c+'">'+r+"</span>";"length"in l||(l=[l]);for(var h=0;h<l.length;h+=1){var m=l[h];m.classList.add("clampable-clamped");var y=m.style,g=m.querySelector("."+o),u=void 0===m.textContent?"innerText":"textContent";g&&(m.removeChild(m.querySelector("."+c)),m[u]=m[u]);var f=m[u],d=p?f.split(" "):f;if(!(d.length<2)){var v=y.height;y.height="auto";var b=y.maxHeight;if(y.maxHeight="none",m.offsetHeight<=t)y.height=v,y.maxHeight=b;else if("auto"!==t){for(var H=d.length-1,x=0,q=void 0;x<H;)q=x+H+1>>1,m[u]=p?d.slice(0,q).join(" "):d.slice(0,q),m.insertAdjacentHTML("beforeend",s),m.offsetHeight>t?H=p?q-1:q-2:x=q;m[u]=p?d.slice(0,H).join(" "):d.slice(0,H),m.insertAdjacentHTML("beforeend",s);var C=p?" "+d.slice(H).join(" "):d.slice(H);m.insertAdjacentHTML("beforeend",'<span class="'+o+'" style="display:none;">'+C+"</span>"),y.height=v,y.maxHeight=b}else y.maxHeight=b}}}};l.typography.clamp=function(e,t,a){var n=getComputedStyle(S.querySelectorAll(e)[0]).lineHeight.replace("px","");o(e,t*n,a),S.querySelectorAll(e).forEach(function(e){e.dispatchEvent(new CustomEvent("rb.typography.clamp")),a&&(a.onClamp&&a.onClamp(e),a.onUnclamp&&l.once(e,"rb.typography.unclamp",a.onUnclamp));var t=e.querySelector("button");t&&r(t).click(function(){l.typography.unclamp(r(this).closest(".clampable-clamped").first())})})},l.typography.unclamp=function(e){o(e,"auto");for(var t="string"==typeof e?S.querySelectorAll(e):e,a=0;a<t.length;a++){t[a].dispatchEvent(new CustomEvent("rb.typography.unclamp"))}}}(window.rb,document,jQuery);
//# sourceMappingURL=rocketbelt.typography.min.js.map
