extends /_layout.pug

block vars
  - var title = 'Animation'

block content
  article.grid-article
    h1 Animation
    .rb-note
      include /partials/labs.pug
      .rb-note-text This feature is under development.
    h2 Guiding Principles

    h2 Patterns
    h3 Entrances &amp; Exits
    - const refreshIcon = '/components/icons/rocketbelt.icons.enterprise.svg#rb-icon-refresh'
    .boxes
      .box-wrap
        svg.icon
          use(xlink:href=refreshIcon)
        .box(data-rb-animate-out='out_fade', data-rb-animate-in='in_fade') Fade
      .box-wrap
        svg.icon
          use(xlink:href=refreshIcon)
        .box(data-rb-animate-out='out_slide', data-rb-animate-in='in_slide') Slide
      .box-wrap
        svg.icon
          use(xlink:href=refreshIcon)
        .box(data-rb-animate-out='out_fade-slide', data-rb-animate-in='in_fade-slide') Fade &amp; Slide

    //- h3 State Change
    //- .boxes
    //-   .box-wrap
    //-     svg.icon
    //-       use(xlink:href=refreshIcon)
    //-     .box.animatable Opacity
    //-   .box-wrap
    //-     svg.icon
    //-       use(xlink:href=refreshIcon)
    //-     .box.animatable Color
    //-   .box-wrap
    //-     svg.icon
    //-       use(xlink:href=refreshIcon)
    //-     .box.animatable Size

    h3 Emphasis

    h2 Timing
    p Use an RB function.
    h2 Easing
    p Use an RB function.
    h3 Moving Elements
    h3 Stationary Elements

    h2 Javascript
    p Helper JS to remove animation class when it's finished.

    script(src='/base/animation/rocketbelt.animate.min.js')
    script.
      $('.box, .box-wrap').on('click', function () {
        event.stopPropagation();
        var $this = $(this);

        if ($(this).hasClass('box-wrap')) {
          $this = $(this).find('.box');
        }

        var removeClass = function (className) { return className.indexOf('animation_') > -1; }

        if ($this.hasClass('animatable')) {
          $this.removeClass('animatable')
            .removeClass(function(index, className) {
              return (className.match(/(^|\s)animation_\S+/g) || []).join(' ');
            });
        } else {
          $this.addClass('animatable').addClass('animation_' + $this.attr('data-rb-animate-out'));
        }
      });
