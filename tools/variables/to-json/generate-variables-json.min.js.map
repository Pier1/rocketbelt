{"version":3,"sources":["tools/variables/to-json/generate-variables-json.min.js"],"names":["sassExtract","require","render","file","plugins","then","rendered","sassVarsToEmit","fs","key","vars","global","includes","writeFile","JSON","stringify"],"mappings":"AAAA,aAEA,IAAMA,YAAcC,QAAQ,gBAE5BD,YAAYE,OAERC,CAEFA,KAAA,gCAJF,CAWEC,QAAA,CACA,aAUAC,KAAA,SAAAC,GAIC,IAAAC,EAAA,CAXC,kBAaF,WAEDF,gBACC,qBACAG,wBAVA,IAAK,IAAMC,KAAOH,EAASI,KAAKC,OACzBJ,EAAeK,SAASH,WACpBH,EAASI,KAAKC,OAAOF,GAIhC,OAAOH,EAASI,KAAKC,SAEtBN,KAAK,SAAAK,GACOT,QAAQ,MAChBY,UACD,+BACAC,KAAKC,UAAUL,EAAM,KAAM,GAAI,OAAQ","file":"generate-variables-json.min.js","sourcesContent":["'use strict';\n\nconst sassExtract = require('sass-extract');\n\nsassExtract.render(\n  {\n    file: './_rocketbelt.variables.scss'\n  },\n  {\n    plugins: [\n      'compact'\n    ]\n  }\n)\n.then(rendered => {\n  // Would prefer to use the `filter` option in sass-extract\n  // instead of this function, but it's unclearly documented.\n  // https://github.com/jgranstrom/sass-extract#filter\n  const sassVarsToEmit = [\n    '$color-families',\n    '$columns',\n    '$gutter-width',\n    '$half-gutter-width',\n    '$gutter-compensation'\n  ];\n\n  for (const key in rendered.vars.global) {\n    if (!sassVarsToEmit.includes(key)) {\n      delete rendered.vars.global[key];\n    }\n  }\n\n  return rendered.vars.global;\n})\n.then(vars => {\n  const fs = require('fs');\n  fs.writeFile(\n    '../rocketbelt.variables.json',\n    JSON.stringify(vars, null, 2), 'utf8', () => {}\n  );\n});\n"],"sourceRoot":"../../.."}