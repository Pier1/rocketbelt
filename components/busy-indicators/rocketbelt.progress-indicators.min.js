"use strict";!function(s,r){function i(s){for(var e=s&&s.length?s.length:0,a=0;a<e;a++){var t=s[a];o(t.target,t.oldValue)}}function o(e,s){if(s&&s.match(/[\s\b]is-busy[\s\b]/)||!e||!e.classList||!e.classList.contains("is-busy")){var a=e.querySelectorAll(".is-busy_overlay")[0];a&&a.parentNode&&!a.parentNode.classList.contains("is-busy")&&a.parentNode.removeChild(a)}else if(0===e.getElementsByClassName("is-busy_overlay").length){var t="";if(e.classList.contains("is-busyable-page")){var r='<div class="flip-loader_segment"></div>',i=e.dataset.rbIsBusyMessage;t='<div class="flip-loader"'+(i?' data-rb-is-busy-message="'+i+'"':"")+'>                      <div class="flip-loader_segments">                        '+r.repeat(5)+"                      </div>                    </div>";var o=e.dataset.rbIsBusyMessageAfterSeconds;i&&(o=o||0,setTimeout(function(){var s=e.querySelector(".flip-loader");s&&s.classList&&s.classList.add("is-busy_message-shown")},1e3*o))}else t=e.classList.contains("is-busy-spinner")?'<div class="spin" aria-hidden="true"></div>':'<div class="dot" aria-hidden="true"></div>'.repeat(3);var n="UL"===e.nodeName||"OL"===e.nodeName?"li":"div",l="<"+n+' class="is-busy_overlay" aria-label="Loading." role="alert" aria-live="assertive" aria-busy="true">            '+t+"          </"+n+">";e.insertAdjacentHTML("beforeend",l),requestAnimationFrame(function(){var s=e.querySelector(".is-busy_overlay");s&&s.classList&&s.classList.add("is-busy_overlay-opaque")})}}function e(){var s=r.querySelectorAll(".is-busyable");0===s.length&&(s=r.querySelectorAll("body"));for(var e=s.length,a=0;a<e;a++){var t=s[a];new MutationObserver(function(s){i(s)}).observe(t,{subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})}}s.onDocumentReady(function(){r.querySelectorAll(".is-busy").forEach(function(s){o(s)})}),s.onDocumentReady(e),s.progressIndicators=s.progressIndicators||{},s.progressIndicators.setIndicators=o,s.progressIndicators.observeComponents=e}(window.rb,document);
//# sourceMappingURL=rocketbelt.progress-indicators.min.js.map
