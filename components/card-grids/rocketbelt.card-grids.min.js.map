{"version":3,"sources":["components/card-grids/rocketbelt.card-grids.min.js"],"names":["rb","window","$","cardGrids","CSS","supports","document","resizeGridItem","closest","rowHeight","parseInt","grid","rowGap","itemPadding","css","itemContentHeight","itemContentMargin","item","style","firstElementChild","getBoundingClientRect","height","resizeAllGridItems","gridSelector","rowSpan","grids","forEach","querySelectorAll","items","addEventListener","warnAboutGridSupport","onDocumentReady","jQuery"],"mappings":"AAAA,cACA,SAAEA,EAAIC,EAAQC,GAAbF,EAAAG,UAAKF,EAAAA,WAAc,GAGlB,IAAMG,EAAMH,EAAOG,IAEnB,GAAIA,IAAAA,EAAAA,SACKC,UAAS,SAEhBD,EAAME,SAAWL,UAAOK,aAAxB,CAAA,IAAMA,EAAWL,EAAOK,SA0CxBN,EAAAG,UAAAI,eAvCuBC,SAAAA,GACrB,IAAMC,EAAAA,EAAAA,GACJC,QAAWC,cAAU,GACjBC,EACNF,SAAMG,EAAAA,GACJH,IAAAA,kBAAqB,IAFjBE,EAASF,SAASR,EAAES,GAAMG,IAAI,gBAAiB,IAK/CC,EACNL,SAAMM,EAAAA,GAAAA,IAAAA,cACOC,IAJXP,SAASR,EAAEe,GAAMH,IAAI,iBAAkB,IAWpCI,EAALD,EAAAE,kBAAAC,wBAAAC,OAlBFL,EAWIN,SAASR,EAAEe,EAAKE,mBAAmBL,IAAI,aAAc,IAUnDQ,SAAAA,EAAAA,EAAAA,mBAAAA,IAAAA,gBAAsBC,IAPpBC,EAUNC,KAAMC,MACJX,EAAmBY,EAAiBd,EAApCD,IAAAH,EAAAG,IAEAgB,EAAAA,MAAMF,WAANE,QAAwBJ,GAc5BvB,EAAAA,UAAO4B,mBAjBL,SAAAN,GAHFjB,EAAAqB,iBAAAJ,GAYMO,QAAAA,SAAAA,GAA4CnB,EAAAgB,iBAAA,mBANxCD,QAAQ,SAACT,GAQhBd,EAAAA,UAAUI,eAAiBA,QAQ7BP,EAFD+B,gBAAA,WAAA,OAAA/B,EAAAG,UAAAmB,mBAAA,gBAAArB,EAAO4B,iBAAiB,qBAAsB,WAC5C7B,EAAGG,UAAUmB,mBAAmB,iBApDtC,CAuDGrB,OAAOD,GAAIC,OAAQ+B","file":"rocketbelt.card-grids.min.js","sourcesContent":["'use strict';\n((rb, window, $) => {\n  rb.cardGrids = rb.cardGrids || {};\n\n  const CSS = window.CSS;\n\n  if (CSS &&\n      (CSS.supports('display', 'grid') ||\n       CSS.supports('display', '-ms-grid'))) {\n    const document = window.document;\n\n    const resizeGridItem = (item) => {\n      const grid = $(item).closest('.card-grid')[0];\n      const rowHeight =\n        parseInt($(grid).css('grid-auto-rows'), 10);\n      const rowGap = parseInt($(grid).css('grid-row-gap'), 10);\n      const itemPadding =\n        parseInt($(item).css('paddingTop'), 10) +\n        parseInt($(item).css('paddingBottom'), 10);\n\n      const itemContentHeight = item.firstElementChild.getBoundingClientRect().height;\n      const itemContentMargin =\n        parseInt($(item.firstElementChild).css('marginTop'), 10) +\n        parseInt($(item.firstElementChild).css('marginBottom'), 10);\n\n      const rowSpan =\n        Math.ceil(\n          (itemContentHeight + itemContentMargin + itemPadding + rowGap) / (rowHeight + rowGap)\n        );\n      item.style.gridRowEnd = `span ${rowSpan}`;\n    };\n\n    const resizeAllGridItems = (gridSelector) => {\n      const grids = document.querySelectorAll(gridSelector);\n\n      grids.forEach((grid) => {\n        const items = grid.querySelectorAll('.card-grid_item');\n\n        items.forEach((item) => {\n          rb.cardGrids.resizeGridItem(item);\n        });\n      });\n    };\n\n    const warnAboutGridSupport = () => { console.warn('Browser doesn\\'t support CSS grid.'); };\n\n    rb.cardGrids.resizeGridItem = resizeGridItem || warnAboutGridSupport;\n    rb.cardGrids.resizeAllGridItems = resizeAllGridItems || warnAboutGridSupport;\n\n    rb.onDocumentReady(() => rb.cardGrids.resizeAllGridItems('.card-grid'));\n\n    // Set rAF-throttled resize listener to call resizeAllGridItems.\n    window.addEventListener('rb.optimizedResize', () => {\n      rb.cardGrids.resizeAllGridItems('.card-grid');\n    });\n  }\n})(window.rb, window, jQuery);\n"],"sourceRoot":"../.."}