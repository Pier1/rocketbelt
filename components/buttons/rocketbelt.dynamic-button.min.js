!function(t){t.dynamicButton=function(e){function s(e,s){var n=t(this),o=n.find(".button-state-text");o.text(i.opts.busyText?i.opts.busyText:i.opts.baseText),n.prop("disabled",!0).css("min-width",s).addClass(e),i.$el.trigger({type:"dynamicButton.busy",el:i.el})}function n(e,s,n,i,a,u){var c=t(this),d=c.find(".button-state-icon"),l=c.find(".button-state-text"),p=s||0,x=["success","failure"];c.css("min-width",c.outerWidth()),d.hide(),x.indexOf(e)>-1&&(p=s||2e3,c.removeClass(n),n=u?"button-state-with-text":"",n+=" button-"+e,c.css("min-width",i),c.addClass(n),l.text(u)),d.show(),setTimeout(function(){o(c,n,l,a)},p)}function o(t,e,s,n){s.text(n),t.prop("disabled",!1).css("min-width","auto").removeClass(e)}var i=this;i.el=e,i.$el=t(e),i.$el.data("dynamicButton",i),i.init=function(){function e(){var t='<span class="button-state-text">'+i.opts.baseText+"</span>",e='<span class="button-state-icon"></span>',s=t+e;return s}i.opts=t.extend({},t.dynamicButton.defaultOptions),i.opts.baseText=i.$el.text()||i.opts.baseText,i.opts.busyText=i.$el.data("busy-text")||i.opts.busyText,i.opts.successText=i.$el.data("success-text")||i.opts.successText,i.opts.failureText=i.$el.data("failure-text")||i.opts.failureText,i.$el.empty().append(e);var o=i.opts.baseText,a=i.opts.busyText?"button-busy button-state-with-text":"button-busy",u=i.$el.outerWidth();i.$el.on("click",function(t){s.call(this,a,u)}),i.$el.on("buttonActionComplete",function(t,e,s){if("success"===e)var c=i.opts.successText;if("failure"===e)var c=i.opts.failureText;n.call(this,e,s,a,u,o,c)})},i.init()},t.dynamicButton.defaultOptions={baseText:"",busyText:null},t.fn.dynamicButton=function(e){var s,n,o;return"string"==typeof e?(n=e,s=this.data("dynamicButton"),s&&(s.methods[n]?o=s.methods[n].apply(s,Array.prototype.slice.call(arguments,1)):console.warn("The method "+n+" does not exist in dynamicButton.")),o||this):this.each(function(){t.data(this,"dynamicButton")||new t.dynamicButton(this,e)})}}(jQuery);
//# sourceMappingURL=rocketbelt.dynamic-button.min.js.map
