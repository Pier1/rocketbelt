!function(d){d.dynamicButton=function(t){var u=this;u.el=t,u.$el=d(t),u.$el.data("dynamicButton",u),u.init=function(){u.opts=d.extend({},d.dynamicButton.defaultOptions),u.opts.baseText=u.$el.text()||u.opts.baseText,u.opts.busyText=u.$el.data("busy-text")||u.opts.busyText,u.opts.successText=u.$el.data("success-text")||u.opts.successText,u.opts.failureText=u.$el.data("failure-text")||u.opts.failureText,u.$el.empty().append(function(){return'<span class="button-state-text">'+u.opts.baseText+"</span>"+'<span class="button-state-icon"></span>'});var o=u.opts.baseText,i=u.opts.busyText?"button-busy button-state-with-text":"button-busy",a=u.$el.outerWidth();u.$el.on("click buttonActionBusy",function(t){(function(t,e){var s=d(this);s.find(".button-state-text").text(u.opts.busyText?u.opts.busyText:u.opts.baseText),s.prop("disabled",!0).css("min-width",e).addClass(t),u.$el.trigger({type:"dynamicButton.busy",el:u.el})}).call(this,i,a)}),u.$el.on("buttonActionComplete",function(t,e,s){if("success"===e)var n=u.opts.successText;if("failure"===e)n=u.opts.failureText;(function(t,e,s,n,o,i){var a=d(this),u=a.find(".button-state-icon"),c=a.find(".button-state-text"),l=e||0;a.css("min-width",a.outerWidth()),u.hide(),-1<["success","failure"].indexOf(t)&&(l=e||2e3,a.removeClass(s),s=i?"button-state-with-text":"",s+=" button-"+t,a.css("min-width",n),a.addClass(s),c.text(i));u.show(),setTimeout(function(){!function(t,e,s,n){s.text(n),t.prop("disabled",!1).removeClass(e)}(a,s,c,o)},l)}).call(this,e,s,i,a,o,n)})},u.init()},d.dynamicButton.defaultOptions={baseText:"",busyText:null},d.fn.dynamicButton=function(t){var e,s,n;return"string"==typeof t?(s=t,(e=this.data("dynamicButton"))&&(e.methods[s]?n=e.methods[s].apply(e,Array.prototype.slice.call(arguments,1)):console.warn("The method "+s+" does not exist in dynamicButton.")),n||this):this.each(function(){d.data(this,"dynamicButton")||new d.dynamicButton(this,t)})}}(jQuery);
//# sourceMappingURL=rocketbelt.dynamic-button.min.js.map
