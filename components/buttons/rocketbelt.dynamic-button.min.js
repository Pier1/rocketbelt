!function(t){t.dynamicButton=function(e){var s=this;s.el=e,s.$el=t(e),s.$el.data("dynamicButton",s),s.init=function(){s.opts=t.extend({},t.dynamicButton.defaultOptions),s.opts.baseText=s.$el.text()||s.opts.baseText,s.opts.busyText=s.$el.data("busy-text")||s.opts.busyText,s.opts.successText=s.$el.data("success-text")||s.opts.successText,s.opts.failureText=s.$el.data("failure-text")||s.opts.failureText,s.$el.empty().append(function(){return'<span class="button-state-text">'+s.opts.baseText+'</span><span class="button-state-icon"></span>'});var e=s.opts.baseText,n=s.opts.busyText?"button-busy button-state-with-text":"button-busy",o=s.$el.outerWidth();s.$el.on("click",function(e){(function(e,n){var o=t(this);o.find(".button-state-text").text(s.opts.busyText?s.opts.busyText:s.opts.baseText),o.prop("disabled",!0).css("min-width",n).addClass(e),s.$el.trigger({type:"dynamicButton.busy",el:s.el})}).call(this,n,o)}),s.$el.on("buttonActionComplete",function(i,a,u){if("success"===a)c=s.opts.successText;if("failure"===a)var c=s.opts.failureText;(function(e,s,n,o,i,a){var u=t(this),c=u.find(".button-state-icon"),l=u.find(".button-state-text"),d=s||0;u.css("min-width",u.outerWidth()),c.hide(),["success","failure"].indexOf(e)>-1&&(d=s||2e3,u.removeClass(n),n=a?"button-state-with-text":"",n+=" button-"+e,u.css("min-width",o),u.addClass(n),l.text(a)),c.show(),setTimeout(function(){!function(t,e,s,n){s.text(n),t.prop("disabled",!1).removeClass(e)}(u,n,l,i)},d)}).call(this,a,u,n,o,e,c)})},s.init()},t.dynamicButton.defaultOptions={baseText:"",busyText:null},t.fn.dynamicButton=function(e){var s,n,o;return"string"==typeof e?(n=e,(s=this.data("dynamicButton"))&&(s.methods[n]?o=s.methods[n].apply(s,Array.prototype.slice.call(arguments,1)):console.warn("The method "+n+" does not exist in dynamicButton.")),o||this):this.each(function(){t.data(this,"dynamicButton")||new t.dynamicButton(this,e)})}}(jQuery);
//# sourceMappingURL=rocketbelt.dynamic-button.min.js.map
